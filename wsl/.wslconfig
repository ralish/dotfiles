# Windows Subsystem for Linux 2 (WSL 2) global settings
# https://learn.microsoft.com/en-au/windows/wsl/wsl-config
#
# Last reviewed release: v2.6.1
# Default file path: %USERPROFILE%\.wslconfig
# Initial support: Windows 10 2004

[general]
# Absolute path to directory to install distributions [UNDOCUMENTED]
#
# An empty string will default to "%LOCALAPPDATA%\\wsl".
#
# Default: (empty)
# Support: WSL 2.4.4
#distributionInstallPath =

# Idle timeout for terminating distributions (ms)
#
# If set to -1, termination of idle instance will be disabled.
#
# Default: 15000
# Support: WSL 2.5.4
#instanceIdleTimeout =

[wsl2]
#################################################
###                    CPU                    ###
#################################################

# Number of logical processors to assign to the VM
#
# If set to zero, all logical processors will be assigned.
#
# Default: 0
# Support: Windows 10 2004
#processors =

# Nested virtualisation support (AMD64 only)
#
# Default: true
# Support: Windows 11 21H2
#nestedVirtualization =

# Hardware performance counters support (AMD64 only)
#
# Default: true
# Support: WSL 0.50.2
#hardwarePerformanceCounters =

#################################################
###                  Memory                   ###
#################################################

# Amount of memory to assign to the VM (bytes)
#
# Using size suffixes (e.g. MB, GB) is supported. If set to zero, a percentage
# of memory will be assigned which differs by Windows build:
#  < 20175: 80% of total memory
# >= 20175: 50% of total memory
#
# Default: 0
# Support: Windows 10 2004
#memory =

# Amount of swap space to add to the VM (bytes)
#
# Using size suffixes (e.g. MB, GB) is supported. If set to zero, a swap file
# will not be created. The default adds swap space equal to 25% of the total
# memory, rounded-up to the nearest GB.
#
# Default: 18446744073709551615 (UINT64_MAX)
# Support: Windows 10 2004
#swap =

# Absolute path to swap VHDX file
#
# An empty string will default to "%LOCALAPPDATA%\\temp\\swap.vhdx". If a path
# is explicitly provided and doesn't end with ".vhdx", the file extension will
# automatically be appended.
#
# Default: (empty)
# Support: Windows 10 2004
#swapFile =

# Idle threshold for memory compaction
#
# If set to zero, memory compaction on CPU idle is disabled.
#
# Default: 1
# Support: Windows 10 2004
# Removed: WSL 1.1.3
#idleThreshold =

# Free memory page reporting
#
# Default: true
# Support: Windows 10 2004
# Removed: WSL 1.1.7
#pageReporting =

#################################################
###                 Graphics                  ###
#################################################

# Support GUI applications (WSLg)
#
# Default: true
# Support: Windows 11 21H2
#guiApplications =

# GPU acceleration support [UNDOCUMENTED]
#
# Default: true
# Support: Windows 11 21H2
#gpuSupport =

# Use GPU libraries packaged with WSL [UNDOCUMENTED]
# - Only applies when GPU acceleration support is enabled.
#
# Default: true
# Support: WSL 0.58.0
# Removed: WSL 2.4.11
#packagedGpuLibs =

#################################################
###                  Storage                  ###
#################################################

# Permit access to host filesystems (DrvFs) [UNDOCUMENTED]
#
# Default: true
# Support: Unknown (Inbox release)
#hostFileSystemAccess =

# Enable 9P protocol over VirtIO for exposing host storage [UNDOCUMENTED]
#
# Automatically disabled if VirtIO is not enabled.
#
# Default: false
# Support: Unknown (Inbox release)
#virtio9p =

# Enable VirtIO shared filesystem for exposing host storage [UNDOCUMENTED]
#
# Automatically disabled if VirtIO is not enabled.
#
# Default: false
# Support: WSL 0.68.2
#virtiofs =

# Timeout for attaching a disk to the VM (ms) [UNDOCUMENTED]
#
# Default: 5000
# Support: WSL 0.50.2
#mountDeviceTimeout =

#################################################
###                  Network                  ###
#################################################

# Networking mode
# - Experimental prior to WSL 2.0.5.
#
# Valid values (case-insensitive):
# - None            Disconnect WSL network (WSL 0.66.2)
# - Nat             Network Address Translation (WSL 0.51.2)
# - Bridged         Bridge to host network (WSL 0.51.2)
# - Mirrored        Mirror all host network interfaces (WSL 0.51.2?)
#                   Allegedly requires Windows 11 22H2 (OS Build 22621.2359)
# - VirtioProxy     VirtIO proxy networking (WSL 1.3.10)
#
# Default: Nat
# Support: WSL 0.51.2
#networkingMode =

# Name of the Hyper-V virtual switch to connect [UNDOCUMENTED]
# - Only applies when using bridged networking mode.
#
# Default: (empty)
# Support: WSL 0.51.2
#vmSwitch =

# MAC address to assign to network interface [UNDOCUMENTED]
#
# If unset and using bridged networking mode, a random MAC address is generated
# to avoid MAC address conflicts on the bridged network if multiple systems are
# connected using WSL in bridged networking mode.
#
# Default: (unset)
# Support: WSL 0.51.2
#macAddress =

# Enable IPv6 support [UNDOCUMENTED]
# - Only applies when using bridged networking mode.
#
# Default: false
# Support: WSL 0.51.2
#ipv6 =

# Permit access from the host to listening ports in the VM
#
# Defaults to true for all networking modes except mirrored networking mode, in
# which it is unsupported.
#
# Default: (unset)
# Support: Windows 10 2004
#localhostForwarding =

# Assign network interface address using DHCP [UNDOCUMENTED]
# - Only applies when using bridged networking mode.
#
# Default: true
# Support: WSL 0.51.2
#dhcp =

# Timeout for DHCP offer response from server (ms) [UNDOCUMENTED]
# - Only applies when using bridged networking mode and DHCP is enabled.
#
# Default: 5000
# Support: WSL 0.51.2
#dhcpTimeout =

# Use the NAT interface for DNS requests
# - Only applies when using NAT networking mode.
#
# If disabled, the DNS servers configured on the host are mirrored into the
# distribution.
#
# Default: true
# Support: WSL 0.64.0
#dnsProxy =

# Tunnel DNS requests to Windows
# - Only applies when using NAT or mirrored networking modes.
# - Experimental prior to WSL 2.0.5.
#
# If enabled by default (see below), will automatically be disabled if it's not
# supported by the Windows release.
#
# Default differs by WSL version:
#  < 2.1.0: false
# >= 2.1.0: true
#
# Support: WSL 1.3.14
#dnsTunneling =

# Apply Windows Firewall rules to WSL container processes
# - Experimental prior to WSL 2.0.5.
#
# Always enabled when using mirrored networking mode unless it's not supported
# by the Windows release.
#
# Default: true
# Support: WSL 1.3.14
#firewall =

# Use Windows HTTP proxy settings
# - Experimental prior to WSL 2.0.5.
#
# Default: true
# Support: WSL 1.3.14
#autoProxy =

#################################################
###               Linux kernel                ###
#################################################

# Absolute path to kernel image
#
# An empty string selects a default which differs by WSL release type:
# - Inbox: %SystemRoot%\\System32\\lxss\\tools\\kernel
# - Store: %ProgramFiles%\\WSL\\tools\\kernel
#
# Default: (empty)
# Support: Windows 10 2004
#kernel =

# Additional kernel command line arguments
#
# Default: (empty)
# Support: Windows 10 2004
#kernelCommandLine =

# Absolute path to kernel modules VHD
#
# An empty string defaults to "%ProgramFiles%\\WSL\\tools\\modules.vhd" only if
# the default kernel image is used.
#
# Default: (empty)
# Support: WSL 2.1.0
#kernelModules =

# Loads the default kernel modules [UNDOCUMENTED]
#
# Default set: br_netfilter, ip_tables, tun
#
# Default: true
# Support: WSL 2.6.0
#loadDefaultKernelModules =

# List of kernel modules to load (comma-separated) [UNDOCUMENTED]
#
# Default: (empty)
# Support: WSL 2.6.0
#loadKernelModules =

# Timeout for the kernel to boot (ms)
#
# Default: 30000
# Support: Unknown (Inbox release, broken until WSL 2.4.4?)
#kernelBootTimeout =

# Enable kernel debugging over the specified TCP port
#
# If set to zero, kernel debugging is disabled.
#
# Default: 0
# Support: WSL 1.2.0
#kernelDebugPort =

#################################################
###              Virtual machine              ###
#################################################

# Absolute path to system distribution VHD
#
# An empty string will default to "%ProgramFiles%\\WSL\\system.vhd".
#
# Default: (empty)
# Support: Unknown (Inbox release)
#systemDistro =

# Idle timeout for stopping the VM (ms)
#
# If set to -1, termination of the WSL VM when idle will be disabled.
#
# Default: 60000
# Support: Windows 11 21H2
#vmIdleTimeout =

#################################################
###               Distributions               ###
#################################################

# Default distribution VHD size (bytes)
#
# Using size suffixes (e.g. MB, GB) is supported.
#
# Default: 1TB
# Support: WSL 2.0.5
#defaultVhdSize =

# Timeout for starting a distribution (ms) [UNDOCUMENTED]
#
# If set to -1, no timeout will apply for distribution startup.
#
# Default: 60000
# Support: WSL 2.4.4
#distributionStartTimeout =

#################################################
###               Miscellaneous               ###
#################################################

# Enable VirtIO support [UNDOCUMENTED]
#
# VirtIO support is required for numerous features.
#
# Default: true (false on ARM pre-Windows 11)
# Support: Unknown (Inbox release)
#virtio =

# Telemetry [UNDOCUMENTED]
#
# Default: true
# Support: Unknown (Inbox release)
telemetry = false

#################################################
###                 Debugging                 ###
#################################################

# Launch WSL and distributions in Safe Mode
#
# If enabled, multiple configuration settings are overridden to be disabled.
#
# Default: false
# Support: WSL 0.66.2
#safeMode =

# Launch a shell to debug the root namespace
#
# Default: false
# Support: WSL 0.51.2
# Removed: WSL 1.1.0
#debugShell =

# Show kernel log output on WSL distribution startup
#
# Default: false
# Support: Windows 11 21H2
#debugConsole =

# Absolute path to kernel output log file [UNDOCUMENTED]
#
# When configured the debug console will always be enabled.
#
# Default: (empty)
# Support: Unknown (Inbox release)
#debugConsoleLogFile =

# Collect early boot log output from dmesg [UNDOCUMENTED]
#
# If unset, automatically enabled if the debug console is enabled or a log file
# for debug console output is configured.
#
# Default: (unset)
# Support: WSL 0.60.0
#earlyBootLogging =

# Absolute path to directory to store crash dumps [UNDOCUMENTED]
#
# An empty string will default to "%LOCALAPPDATA%\\temp\\wsl-crashes".
#
# Default: (empty)
# Support: WSL 2.3.14
#crashDumpFolder =

# Maximum number of crash dump files to retain
#
# When the maximum is exceeded, the oldest crash dump will be deleted.
#
# Default: 10
# Support: WSL 2.3.14
#maxCrashDumpCount =

[experimental]
#################################################
###                  Memory                   ###
#################################################

# Automatically release cached memory on CPU idle
# - Boolean prior to WSL 2.0.0.
#
# Valid values (case-insensitive):
# - Disabled        No release
# - DropCache       Instant release
# - Gradual         Slow release
#
# Default differs by WSL version:
#  < 2.1.3: false (Disabled)
# >= 2.1.3: DropCache
#
# Support: WSL 1.3.10
#autoMemoryReclaim =

#################################################
###                  Storage                  ###
#################################################

# Create new VHDs as sparse files
#
# Default: false
# Support: WSL 1.3.10
#sparseVhd =

#################################################
###                  Network                  ###
#################################################

# Assign an IP address to the host for access to/from WSL
# - Only applies when using mirrored networking mode.
#
# Analogous to the "localhostForwarding" setting.
#
# Default: false
# Support: WSL 2.0.0 & Windows 11 22H2 (OS Build 22621.2359)
#hostAddressLoopback =

# Ports to permit binding to when in-use by a Windows process (comma-separated)
# - Only applies when using mirrored networking mode.
#
# When binding to a port which is already in-use, the bound port will only be
# accessible from within WSL.
#
# Default: (empty)
# Support: WSL 2.0.0 & Windows 11 22H2 (OS Build 22621.2359)
#ignoredPorts =

# IP address for tunneling of DNS requests to Windows
# - Only applies when DNS tunneling is enabled.
#
# Default: 10.255.255.255
# Support: WSL 2.2.1
#dnsTunnelingIpAddress =

# Perform best-effort parsing of DNS requests
# - Only applies when DNS tunneling is enabled.
#
# Determines how Windows handles requests for record types which the DNS client
# does not know how to parse. If enabled, the DNS query will be extracted from
# the request and resolution attempted, ignoring unknown records. If disabled,
# the request will immediately fail.
#
# Default: false
# Support: WSL 1.3.15
#bestEffortDnsParsing =

# Use the Windows DNS cache when resolving names
# - Only applies when DNS tunneling is enabled.
#
# Default: false
# Support: WSL 1.3.15
# Removed: WSL 2.3.22
#useWindowsDnsCache =

# Timeout for retrieval of HTTP proxy settings startup (ms)
# - Only applies when automatic configuration of proxy settings is enabled.
#
# Default: 1000
# Support: WSL 1.3.14
#initialAutoProxyTimeout =
